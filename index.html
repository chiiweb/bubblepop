<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>bubble pop extreme!! ‚ú®</title>
  <link rel="icon" href="data:image/svg+xml,&lt;svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'&gt;&lt;circle cx='50' cy='50' r='45' fill='%23ff6b9d'/&gt;&lt;circle cx='35' cy='35' r='8' fill='%23ffffff' opacity='0.6'/&gt;&lt;/svg&gt;">
  <style>
  :root{ --bg:#ff6b9d; --panel:#ffffff22; --accent:#ffd86b; --muted:rgba(255,255,255,0.85); }
  html,body{ height:100%; margin:0; background: linear-gradient(180deg,#ff6b9d 0%, #c44569 60%, #a29bfe 100%); font-family:'Comic Sans MS',cursive,system-ui; color:white; -webkit-user-select:none; user-select:none; overflow:hidden; font-size:16px;}
  #gameWrap{ position:relative; width:100%; height:100vh; display:flex; align-items:stretch; justify-content:center; }
  #gameCanvas{ display:block; background:rgba(0,0,0,0.1); border-radius:12px; max-width:100%; max-height:100%; }

  /* HUD Styling */
  #hud{ position:absolute; top:0; left:0; right:0; padding:12px; display:flex; justify-content:space-between; flex-wrap:wrap; gap:10px; font-weight:bold; z-index:10; }
  .panel{ background:var(--panel); padding:8px 12px; border-radius:8px; backdrop-filter:blur(5px); display:flex; align-items:center; }
  .panel span{ margin-left:4px; color:var(--accent); }
  .topRightControls{ margin-left:auto; }

  /* Controls Styling */
  #controlsMobile{ position:absolute; bottom:10px; left:0; right:0; padding:10px; display:flex; justify-content:space-between; z-index:10; }
  #leftGroup{ display:flex; gap:10px; margin-left:10px; }
  #rightGroup{ margin-right:10px; }
  .btn{ background:var(--accent); color:var(--bg); border:none; border-radius:12px; padding:15px 25px; font-size:24px; font-weight:bold; box-shadow:0 4px 0 #ccaa33; transition:transform 0.1s; cursor:pointer; }
  .btn:active{ transform:translateY(4px); box-shadow:0 0 0; }
  
  /* Modal Styling */
  #modal{ position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); backdrop-filter:blur(5px); display:none; justify-content:center; align-items:center; z-index:100; opacity:0; transition:opacity 0.3s ease; }
  #modal.show{ display:flex; opacity:1; }
  #modalContent{ background:var(--bg); padding:30px; border-radius:15px; text-align:center; max-width:350px; width:90%; box-shadow:0 10px 30px rgba(0,0,0,0.5); border:5px solid var(--accent); }
  #modalTitle{ font-size:2.5em; margin-bottom:15px; color:var(--accent); text-shadow:2px 2px 0 #00000033; }
  .modal-buttons{ display:flex; justify-content:center; gap:15px; margin-top:20px; }
  .btn-modal{ padding:12px 25px; font-size:1.1em; border-radius:10px; cursor:pointer; transition:background-color 0.2s; }
  #btnRestart{ background:#38D9A9; color:white; font-weight:bold; border:none; }
  #btnRestart:hover{ background:#2DB38C; }
  #btnActionSecondary{ background:#FFD86B; color:#FF6B9D; font-weight:bold; border:none; }
  #btnActionSecondary:hover{ background:#E6C25B; }
  
  /* Joystick Styles */
  .joystick {
      position: absolute;
      bottom: 10px;
      left: 10px;
      width: 100px;
      height: 100px;
      display: none; /* Hidden by default, shown for large screens */
  }
  .joy-base {
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.15);
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
  }
  .joy-knob {
      width: 40px;
      height: 40px;
      background: var(--accent);
      border-radius: 50%;
      box-shadow: 0 0 10px rgba(255, 216, 107, 0.8);
      position: absolute;
      cursor: grab;
      touch-action: none;
  }

  /* Responsive Adjustments */
  @media (max-width: 900px) {
      .topRightControls{ flex-basis:100%; justify-content:center; }
      #controlsMobile{ display:flex; }
      .joystick{ display:none; }
  }
  @media (min-width: 901px) {
      #controlsMobile{ display:none; }
      .joystick{ display:flex; }
  }
  </style>
</head>
<body>
  <div id="gameWrap">
    <canvas id="gameCanvas"></canvas>
    <audio id="gameMusic" src="stargame.mp3" loop preload="auto"></audio>
    <div id="hud">
      <div class="panel">
        score: <span id="score">0</span> | <span id="livesDisplay">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span>
      </div>
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <div class="panel">
          level: <span id="level">1</span>
        </div>
        <div class="panel">
          high: <span id="high">0</span>
        </div>
        <div class="panel topRightControls">
          <label>sfx <input id="toggleSound" type="checkbox" checked></label> <label>music <input id="toggleMusic" type="checkbox" checked></label>
        </div>
      </div>
    </div>
    <div id="controlsMobile">
      <div id="leftGroup">
        <button id="btnLeft" class="btn">‚óÄ</button> <button id="btnRight" class="btn">‚ñ∂</button>
      </div>
      <div id="rightGroup">
        <button id="btnAction" class="btn">üéØ</button>
      </div>
    </div>
    <div class="joystick" id="joystick">
      <div class="joy-base" id="joyBase">
        <div class="joy-knob" id="joyKnob"></div>
      </div>
    </div>
    <div id="modal">
      <div id="modalContent">
        <h2 id="modalTitle">Welcome!</h2>
        <p>idk you find out</p>
        <div class="modal-buttons">
          <button id="btnRestart" class="btn-modal">Restart</button>
          <button id="btnActionSecondary" class="btn-modal">Start</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Firebase Scripts -->
  <script type="module" src="script.js"></script>
</body>
</html>
